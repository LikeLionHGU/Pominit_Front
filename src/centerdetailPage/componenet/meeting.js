import React, { useState, useEffect, useCallback } from "react";
import { useNavigate } from "react-router-dom";
import styled from "styled-components";
import axios from "axios";

const Title = styled.div`
  position: absolute;
  top: 1063.72px;
  left: 180px;
  color: #000;
  font-family: Pretendard;
  font-size: 20px;
  font-weight: 600;
  line-height: normal;
`;

const Text = styled.div`
  position: absolute;
  top: 1093.72px;
  left: 180px;
  color: #000;
  font-family: Pretendard;
  font-size: 14px;
  font-weight: 400;
  line-height: normal;
`;

const ScrollArea = styled.div`
  position: absolute;
  top: 1126.72px;
  left: 180px;
  display: flex;
  flex-direction: row;
  width: 878px;
  gap: 12px;
  padding-bottom: 8px;
  overflow-x: auto;
  overflow-y: hidden;

  /* (선택) 스크롤바 커스텀 - 크롬/엣지/사파리 */
  &::-webkit-scrollbar {
    height: 8px; /* 가로 스크롤 → height 사용 */
  }
  &::-webkit-scrollbar-thumb {
    border-radius: 100px;
    background: #d6ebff;
  }
  &::-webkit-scrollbar-track {
    background: #f2f2f2;
    border-radius: 100px;
  }
`;

/* 카드(박스) */
const Box = styled.div`
user-select:none;
cursor:pointer;
  flex: 0 0 280px;
  min-width: 280px;
  display: flex;
  height: 131px;
  padding: 10px 16px;
  flex-direction: column;
  align-items: flex-start;
  gap: 12px;
  border-radius: 12px;
  border: 1px solid #d4d4d4;
  background: #fff;
`;

const Meet = styled.div`
  color: #2F83F3;
  font-family: Pretendard;
  font-size: 16px;
  font-weight: 600;
  line-height: normal;
`;

const Info = styled.div`
  display: flex;
  align-items: center;
  gap: 8px;
  color: #000;
  font-family: Pretendard;
  font-size: 14px;
  font-weight: 400;
  line-height: 150%;
`;

const Icon = styled.div`
  width: 30px;
  height: 15px;
  flex: 0 0 0px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  opacity: 0.9;

  svg {
    display: block;
  }
  svg path {
    fill: #ff517e;
  }
`;

const InfoWrapper = styled.div`
  display: flex;
  flex-direction: column;
  gap: 4px;
`;
const When = styled.span`
  white-space: normal;
`;

const API_BASE_URL = process.env.REACT_APP_API_BASE_URL;

function normalizeCenter(raw) {
  if (!raw || raw.id == null) return null;
  return { id: Number(raw.id) };
}

export default function Meeting({ center }) {
  const navigate = useNavigate();
  const [meetings, setMeetings] = useState([]);
  const [loading, setLoading] = useState(false);
  const [error, setError] = useState(null);

  const c = normalizeCenter(center);

  const fetchMeetingData = useCallback(async (centerId) => {
    try {
      setLoading(true);
      setError(null);
      const response = await axios.get(
        `${API_BASE_URL}/location/gathers/${centerId}`
      );

      const list = Array.isArray(response.data)
        ? response.data
        : response.data?.items ?? [];

      const normalized = list.map((it, idx) => ({
        id: it.id ?? idx,
        title: it.title ?? it.name ?? "모임",
        time: it.time ?? it.timeText ?? it.schedule ?? "시간 미정",
        place: it.place ?? it.placeName ?? "장소 미정",
        count:
          it.count ??
          it.headcountText ??
          (it.joined && it.capacity
            ? `${it.joined}/${it.capacity}명`
            : "인원 미정"),
      }));

      setMeetings(normalized);
    } catch (e) {
      console.error(e);
      setError("데이터를 불러오지 못했습니다.");
      setMeetings([]);
    } finally {
      setLoading(false);
    }
  }, []);

  useEffect(() => {
    if (!c) return;
    fetchMeetingData(c.id);
    // eslint-disable-next-line
  }, [c?.id, fetchMeetingData]);

  if (!c) return null;

  return (
    <div>
      <Title>함께 즐겨보면 어때요?</Title>
      <Text>해양 레포츠, 혼자 즐기기 어려웠다면 아래 모임에 참여해보세요!</Text>

      <ScrollArea>
        {loading && (
          <Box>
            <Meet>불러오는 중…</Meet>
          </Box>
        )}
        {error && !loading && (
          <Box>
            <Meet>{error}</Meet>
          </Box>
        )}
        {!loading && !error && meetings.length === 0 && (
         
<svg width="881" height="131" viewBox="0 0 881 131" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect x="0.5" y="0.5" width="879.374" height="130" rx="11.5" fill="white" stroke="#DBDFE3"/>
<path opacity="0.9" d="M444.792 53.8571C446.704 53.8571 448.235 52.3257 448.235 50.4286C448.235 48.5314 446.704 47 444.792 47C442.881 47 441.338 48.5314 441.338 50.4286C441.338 52.3257 442.881 53.8571 444.792 53.8571ZM435.58 53.8571C437.492 53.8571 439.023 52.3257 439.023 50.4286C439.023 48.5314 437.492 47 435.58 47C433.669 47 432.126 48.5314 432.126 50.4286C432.126 52.3257 433.669 53.8571 435.58 53.8571ZM435.58 56.1429C432.897 56.1429 427.52 57.48 427.52 60.1429V61.8571C427.52 62.4857 428.038 63 428.671 63H442.489C443.123 63 443.641 62.4857 443.641 61.8571V60.1429C443.641 57.48 438.263 56.1429 435.58 56.1429ZM444.792 56.1429C444.458 56.1429 444.078 56.1657 443.675 56.2C443.698 56.2114 443.71 56.2343 443.721 56.2457C445.034 57.1943 445.944 58.4629 445.944 60.1429V61.8571C445.944 62.2571 445.863 62.6457 445.736 63H451.701C452.335 63 452.853 62.4857 452.853 61.8571V60.1429C452.853 57.48 447.475 56.1429 444.792 56.1429Z" fill="#CAD0D7"/>
<path d="M341.126 81.0477H335.073V79.8246H337.365V78.2148H338.868V79.8246H341.126V81.0477ZM335.421 84.5767C335.421 84.0223 335.536 83.526 335.765 83.0877C335.997 82.6494 336.317 82.3078 336.727 82.0628C337.139 81.8147 337.603 81.6906 338.119 81.6906C338.638 81.6906 339.1 81.8147 339.506 82.0628C339.916 82.3078 340.236 82.6494 340.468 83.0877C340.7 83.526 340.816 84.0223 340.816 84.5767C340.816 85.1374 340.7 85.6386 340.468 86.0801C340.236 86.5216 339.916 86.8665 339.506 87.1146C339.1 87.3596 338.638 87.482 338.119 87.482C337.603 87.482 337.139 87.3596 336.727 87.1146C336.317 86.8665 335.997 86.5216 335.765 86.0801C335.536 85.6386 335.421 85.1374 335.421 84.5767ZM336.76 84.5767C336.76 84.9022 336.817 85.1874 336.93 85.4323C337.042 85.6773 337.202 85.8642 337.408 85.9931C337.614 86.122 337.851 86.1865 338.119 86.1865C338.38 86.1865 338.614 86.122 338.82 85.9931C339.026 85.861 339.187 85.674 339.303 85.4323C339.419 85.1874 339.477 84.9022 339.477 84.5767C339.477 84.2576 339.418 83.9756 339.298 83.7307C339.182 83.4825 339.021 83.2924 338.815 83.1602C338.612 83.0249 338.38 82.9572 338.119 82.9572C337.855 82.9572 337.619 83.0249 337.413 83.1602C337.207 83.2924 337.046 83.4809 336.93 83.7258C336.817 83.9708 336.76 84.2544 336.76 84.5767ZM341.638 78.1229H343.064V82.9475H344.278V77.8619H345.723V90.2086H344.278V84.1754H343.064V89.6526H341.638V78.1229ZM356.962 80.893H358.674V82.1354H356.962V85.0843H355.42V77.8619H356.962V80.893ZM347.676 78.732H353.206V79.9599H349.184V83.0732C350.418 83.0668 351.406 83.0378 352.147 82.9862C352.892 82.9314 353.619 82.8299 354.328 82.6816L354.468 83.9047C353.707 84.0658 352.916 84.1722 352.094 84.2238C351.272 84.2753 350.135 84.3011 348.681 84.3011H347.676V78.732ZM348.744 87.7431C348.744 87.2371 348.913 86.802 349.252 86.4378C349.59 86.0737 350.073 85.7949 350.702 85.6015C351.334 85.4049 352.075 85.305 352.926 85.3018C353.767 85.305 354.498 85.4033 355.12 85.5967C355.742 85.7901 356.221 86.0704 356.556 86.4378C356.891 86.802 357.059 87.2371 357.059 87.7431C357.059 88.2555 356.891 88.6954 356.556 89.0628C356.221 89.4335 355.742 89.7155 355.12 89.9088C354.498 90.1022 353.767 90.1989 352.926 90.1989C352.075 90.1989 351.334 90.1022 350.702 89.9088C350.073 89.7155 349.59 89.4335 349.252 89.0628C348.913 88.6954 348.744 88.2555 348.744 87.7431ZM350.243 87.7431C350.243 88.0041 350.346 88.2281 350.552 88.4151C350.762 88.602 351.064 88.7438 351.461 88.8405C351.86 88.9372 352.339 88.9855 352.897 88.9855C353.457 88.9855 353.938 88.9388 354.337 88.8453C354.74 88.7486 355.049 88.6068 355.265 88.4199C355.481 88.233 355.589 88.0074 355.589 87.7431C355.589 87.482 355.483 87.2613 355.27 87.0808C355.061 86.8971 354.759 86.7585 354.366 86.6651C353.973 86.5716 353.503 86.5249 352.955 86.5249C352.091 86.5249 351.422 86.6296 350.948 86.8391C350.475 87.0453 350.239 87.3467 350.243 87.7431ZM372.37 80.8736H374.095V82.1112H372.37V85.1084H370.842V77.8619H372.37V80.8736ZM362.571 84.0691C363.499 83.8145 364.301 83.4825 364.978 83.0732C365.655 82.6607 366.188 82.1901 366.578 81.6616C366.971 81.1298 367.211 80.5546 367.298 79.9358H363.141V78.7079H368.952C368.952 79.7811 368.725 80.7512 368.27 81.6181C367.819 82.485 367.163 83.2295 366.303 83.8515C365.442 84.4703 364.403 84.9521 363.185 85.297L362.571 84.0691ZM364.243 87.7238C364.24 87.2242 364.409 86.7875 364.751 86.4137C365.092 86.0398 365.576 85.753 366.201 85.5532C366.826 85.3534 367.551 85.2535 368.377 85.2535C369.205 85.2535 369.93 85.3534 370.552 85.5532C371.174 85.753 371.654 86.0398 371.993 86.4137C372.334 86.7875 372.505 87.2242 372.505 87.7238C372.505 88.233 372.334 88.6745 371.993 89.0483C371.654 89.4222 371.174 89.709 370.552 89.9088C369.933 90.1087 369.208 90.2086 368.377 90.2086C367.548 90.2086 366.821 90.1087 366.196 89.9088C365.574 89.709 365.092 89.4206 364.751 89.0435C364.409 88.6697 364.24 88.2297 364.243 87.7238ZM365.747 87.7238C365.747 87.9913 365.851 88.2217 366.061 88.4151C366.27 88.6084 366.573 88.7567 366.97 88.8598C367.366 88.9629 367.835 89.0145 368.377 89.0145C368.918 89.0145 369.385 88.9629 369.778 88.8598C370.175 88.7567 370.478 88.6084 370.687 88.4151C370.9 88.2217 371.006 87.9913 371.006 87.7238C371.006 87.4563 370.9 87.2274 370.687 87.0373C370.478 86.8439 370.175 86.6973 369.778 86.5974C369.385 86.4975 368.918 86.4475 368.377 86.4475C367.835 86.4475 367.366 86.4975 366.97 86.5974C366.573 86.6973 366.27 86.8439 366.061 87.0373C365.851 87.2274 365.747 87.4563 365.747 87.7238ZM377.58 86.4475H383.019V85.268H384.537V90.0635H376.072V85.268H377.58V86.4475ZM374.719 83.3294H385.978V84.567H374.719V83.3294ZM375.299 81.4827C376.137 81.3764 376.879 81.1717 377.527 80.8688C378.175 80.5658 378.676 80.2033 379.031 79.7811C379.385 79.3589 379.564 78.919 379.567 78.4613V77.9924H381.134V78.4613C381.13 78.9061 381.308 79.3428 381.665 79.7714C382.023 80.1968 382.526 80.5642 383.174 80.8736C383.821 81.1798 384.559 81.3828 385.388 81.4827L384.846 82.6768C384.163 82.5866 383.53 82.4286 382.946 82.203C382.363 81.9774 381.851 81.6971 381.409 81.3619C380.968 81.0267 380.615 80.6512 380.35 80.2355C380.086 80.6512 379.732 81.0267 379.287 81.3619C378.845 81.6971 378.333 81.9774 377.75 82.203C377.166 82.4286 376.536 82.5866 375.859 82.6768L375.299 81.4827ZM383.019 88.8598V87.6126H377.58V88.8598H383.019ZM398.116 88.6858H386.818V87.4579H391.652V84.5912H393.161V87.4579H398.116V88.6858ZM387.142 83.6388C387.986 83.5035 388.745 83.2279 389.419 82.8122C390.096 82.3964 390.626 81.8969 391.009 81.3135C391.393 80.7302 391.586 80.1308 391.59 79.5152V78.6112H393.204V79.5152C393.204 80.1308 393.396 80.7302 393.779 81.3135C394.163 81.8969 394.696 82.3964 395.38 82.8122C396.063 83.2279 396.828 83.5035 397.676 83.6388L397.018 84.9054C396.329 84.7733 395.683 84.5573 395.08 84.2576C394.48 83.9546 393.952 83.5856 393.494 83.1506C393.037 82.7122 392.671 82.2256 392.397 81.6906C392.126 82.2256 391.764 82.7122 391.309 83.1506C390.855 83.5889 390.328 83.9595 389.728 84.2624C389.129 84.5622 388.486 84.7765 387.799 84.9054L387.142 83.6388ZM409.577 90.2086H408.117V77.8619H409.577V90.2086ZM399.043 83.1989C399.043 82.3029 399.151 81.523 399.367 80.8591C399.586 80.1952 399.897 79.686 400.3 79.3315C400.703 78.977 401.174 78.7997 401.712 78.7997C402.205 78.7997 402.643 78.948 403.027 79.2445C403.414 79.541 403.725 79.9696 403.96 80.5304C404.195 81.0879 404.342 81.7486 404.4 82.5124H405.594V78.0746H407.039V89.6188H405.594V83.7355H404.409C404.364 84.5348 404.224 85.2277 403.989 85.8142C403.754 86.3976 403.441 86.8455 403.051 87.1581C402.664 87.4708 402.218 87.6271 401.712 87.6271C401.174 87.6271 400.703 87.4482 400.3 87.0905C399.897 86.7295 399.586 86.2155 399.367 85.5483C399.151 84.8812 399.043 84.0981 399.043 83.1989ZM400.45 83.1989C400.447 83.837 400.495 84.3785 400.595 84.8232C400.695 85.268 400.84 85.6047 401.03 85.8336C401.22 86.0624 401.448 86.1752 401.712 86.172C401.983 86.1752 402.215 86.0624 402.408 85.8336C402.605 85.6047 402.755 85.268 402.858 84.8232C402.964 84.3785 403.017 83.837 403.017 83.1989C403.017 82.564 402.964 82.0242 402.858 81.5794C402.755 81.1347 402.605 80.7979 402.408 80.5691C402.215 80.3402 401.983 80.2274 401.712 80.2307C401.448 80.2274 401.22 80.3402 401.03 80.5691C400.84 80.7979 400.695 81.1347 400.595 81.5794C400.495 82.0242 400.447 82.564 400.45 83.1989ZM425.618 84.828H414.34V83.5856H425.618V84.828ZM415.65 87.9365C415.65 87.4595 415.821 87.0534 416.162 86.7182C416.507 86.3798 417.002 86.1236 417.646 85.9496C418.291 85.7723 419.059 85.6837 419.952 85.6837C420.842 85.6837 421.607 85.7723 422.248 85.9496C422.89 86.1236 423.381 86.3798 423.723 86.7182C424.065 87.0534 424.235 87.4595 424.235 87.9365C424.235 88.4167 424.065 88.826 423.723 89.1644C423.381 89.5028 422.89 89.759 422.248 89.933C421.607 90.1103 420.842 90.1989 419.952 90.1989C419.059 90.1989 418.291 90.1103 417.646 89.933C417.002 89.759 416.507 89.5028 416.162 89.1644C415.821 88.826 415.65 88.4167 415.65 87.9365ZM415.727 78.2486H424.25V79.4814H417.235V81.3957H424.318V82.6188H415.727V78.2486ZM417.197 87.9365C417.193 88.2974 417.425 88.5698 417.893 88.7535C418.363 88.9372 419.05 89.029 419.952 89.029C420.845 89.029 421.528 88.9372 422.002 88.7535C422.476 88.5698 422.714 88.2974 422.717 87.9365C422.714 87.5852 422.474 87.3177 421.997 87.134C421.523 86.9471 420.842 86.852 419.952 86.8488C419.056 86.852 418.371 86.9471 417.898 87.134C417.427 87.3177 417.193 87.5852 417.197 87.9365ZM437.722 85.7707H426.425V84.5428H431.322V83.5131H427.856V80.2403H434.807V79.317H427.827V78.1278H436.325V81.3474H429.364V82.3336H436.567V83.5131H432.825V84.5428H437.722V85.7707ZM427.686 86.549H436.393V90.136H434.865V87.7576H427.686V86.549ZM445.732 82.9572H443.426V84.3591C444.496 84.314 445.505 84.2415 446.453 84.1416L446.564 85.239C445.371 85.4033 444.124 85.5161 442.822 85.5773C441.523 85.6386 440.181 85.6692 438.795 85.6692L438.592 84.4606C439.888 84.4542 440.993 84.4397 441.908 84.4171V82.9572H439.665V78.6257H445.631V79.8584H441.193V81.739H445.732V82.9572ZM440.564 86.462H442.097V88.7438H449.208V89.9765H440.564V86.462ZM447.308 77.8619H448.845V87.1388H447.308V77.8619ZM465.258 88.7148H453.961V87.4675H458.829V84.7749H455.203V78.8142H463.953V84.7749H460.337V87.4675H465.258V88.7148ZM462.455 83.5808V80.0325H456.697V83.5808H462.455ZM476.348 84.8715H474.825V77.8715H476.348V84.8715ZM466.283 81.4151C466.283 80.8414 466.426 80.3306 466.713 79.8826C467 79.4346 467.396 79.0866 467.902 78.8384C468.411 78.5902 468.982 78.4662 469.614 78.4662C470.245 78.4662 470.812 78.5902 471.315 78.8384C471.821 79.0866 472.218 79.4346 472.504 79.8826C472.794 80.3306 472.939 80.8414 472.939 81.4151C472.939 81.9726 472.794 82.4738 472.504 82.9185C472.218 83.36 471.821 83.7081 471.315 83.9627C470.809 84.2141 470.242 84.3398 469.614 84.3398C468.985 84.3398 468.416 84.2141 467.907 83.9627C467.401 83.7081 467.003 83.36 466.713 82.9185C466.426 82.4738 466.283 81.9726 466.283 81.4151ZM467.767 81.4151C467.767 81.7406 467.844 82.029 467.999 82.2804C468.157 82.5285 468.376 82.7203 468.656 82.8557C468.937 82.9878 469.256 83.0539 469.614 83.0539C469.965 83.0539 470.279 82.9878 470.556 82.8557C470.833 82.7203 471.051 82.5285 471.209 82.2804C471.367 82.029 471.446 81.7406 471.446 81.4151C471.446 81.0799 471.367 80.7866 471.209 80.5352C471.054 80.2806 470.837 80.0856 470.556 79.9503C470.279 79.8149 469.965 79.7472 469.614 79.7472C469.256 79.7472 468.937 79.8149 468.656 79.9503C468.376 80.0856 468.157 80.279 467.999 80.5304C467.844 80.7818 467.767 81.0767 467.767 81.4151ZM468.154 85.471H476.348V90.0635H468.154V85.471ZM474.859 88.8356V86.6796H469.652V88.8356H474.859ZM488.442 90.2376H486.91V77.8619H488.442V90.2376ZM478.556 83.1215C478.556 82.2482 478.693 81.4827 478.967 80.8253C479.244 80.1646 479.626 79.6554 480.113 79.2977C480.603 78.9367 481.16 78.7562 481.786 78.7562C482.401 78.7562 482.952 78.9367 483.439 79.2977C483.929 79.6554 484.311 80.1646 484.585 80.8253C484.862 81.4827 485 82.2482 485 83.1215C485 84.0014 484.862 84.7733 484.585 85.4372C484.311 86.0978 483.929 86.607 483.439 86.9648C482.952 87.3193 482.401 87.4965 481.786 87.4965C481.16 87.4965 480.603 87.3193 480.113 86.9648C479.623 86.607 479.241 86.0978 478.967 85.4372C478.693 84.7733 478.556 84.0014 478.556 83.1215ZM480.021 83.1215C480.021 83.7436 480.094 84.2818 480.239 84.7362C480.387 85.1874 480.593 85.5322 480.857 85.7707C481.125 86.006 481.434 86.1236 481.786 86.1236C482.13 86.1236 482.433 86.0044 482.694 85.7659C482.959 85.5274 483.163 85.1826 483.308 84.7314C483.457 84.2802 483.531 83.7436 483.531 83.1215C483.531 82.5028 483.457 81.9694 483.308 81.5214C483.163 81.0702 482.959 80.7254 482.694 80.4869C482.433 80.2484 482.13 80.1291 481.786 80.1291C481.434 80.1291 481.125 80.2484 480.857 80.4869C480.593 80.7254 480.387 81.0702 480.239 81.5214C480.094 81.9694 480.021 82.5028 480.021 83.1215ZM496.386 86.4185H498.01V85.0939H499.417V89.0048C499.887 88.8082 500.28 88.5504 500.596 88.2314C500.915 87.9123 501.152 87.5594 501.307 87.1727C501.462 86.7859 501.541 86.3879 501.544 85.9786V84.9972H503.057V85.9786C503.054 86.4201 503.131 86.8407 503.289 87.2403C503.447 87.64 503.689 87.9961 504.014 88.3087C504.343 88.6181 504.754 88.8566 505.247 89.0242L504.464 90.1651C503.935 89.9717 503.489 89.6977 503.125 89.3432C502.764 88.9887 502.482 88.5681 502.279 88.0815C502.069 88.552 501.786 88.9662 501.428 89.3239C501.07 89.6816 500.641 89.962 500.142 90.1651L499.417 89.087V90.0635H494.969V85.0939H496.386V86.4185ZM493.751 81.241C493.748 80.6835 493.885 80.1872 494.162 79.7521C494.442 79.3138 494.831 78.9721 495.327 78.7272C495.823 78.4823 496.384 78.3598 497.009 78.3598C497.538 78.3598 498.023 78.4533 498.464 78.6402C498.909 78.8239 499.28 79.0849 499.576 79.4233C499.873 79.7617 500.073 80.1533 500.176 80.5981H502.414V77.8619H503.932V84.4026H502.414V81.8453H500.185C500.089 82.2997 499.891 82.701 499.591 83.049C499.294 83.3939 498.922 83.6614 498.474 83.8515C498.029 84.0417 497.541 84.1367 497.009 84.1367C496.384 84.1367 495.823 84.0143 495.327 83.7693C494.831 83.5244 494.442 83.1828 494.162 82.7445C493.885 82.3029 493.748 81.8018 493.751 81.241ZM495.196 81.241C495.196 81.5665 495.272 81.855 495.424 82.1064C495.578 82.3545 495.793 82.5479 496.067 82.6865C496.344 82.8218 496.658 82.8911 497.009 82.8943C497.357 82.8911 497.667 82.8218 497.937 82.6865C498.208 82.5479 498.419 82.3545 498.571 82.1064C498.722 81.855 498.798 81.5665 498.798 81.241C498.798 80.9187 498.722 80.6351 498.571 80.3902C498.419 80.142 498.207 79.9519 497.933 79.8198C497.662 79.6844 497.354 79.6167 497.009 79.6167C496.658 79.6167 496.344 79.6844 496.067 79.8198C495.793 79.9519 495.578 80.142 495.424 80.3902C495.272 80.6351 495.196 80.9187 495.196 81.241ZM498.01 88.8985V87.5546H496.386V88.8985H498.01ZM508.543 86.4475H513.982V85.268H515.5V90.0635H507.035V85.268H508.543V86.4475ZM505.681 83.3294H516.94V84.567H505.681V83.3294ZM506.262 81.4827C507.099 81.3764 507.842 81.1717 508.49 80.8688C509.138 80.5658 509.639 80.2033 509.994 79.7811C510.348 79.3589 510.527 78.919 510.53 78.4613V77.9924H512.096V78.4613C512.093 78.9061 512.271 79.3428 512.628 79.7714C512.986 80.1968 513.489 80.5642 514.137 80.8736C514.784 81.1798 515.522 81.3828 516.351 81.4827L515.809 82.6768C515.126 82.5866 514.493 82.4286 513.909 82.203C513.326 81.9774 512.814 81.6971 512.372 81.3619C511.93 81.0267 511.578 80.6512 511.313 80.2355C511.049 80.6512 510.695 81.0267 510.25 81.3619C509.808 81.6971 509.296 81.9774 508.712 82.203C508.129 82.4286 507.499 82.5866 506.822 82.6768L506.262 81.4827ZM513.982 88.8598V87.6126H508.543V88.8598H513.982ZM528.097 90.2086H526.584V77.8619H528.097V90.2086ZM518.492 79.0559H519.995V85.8142C521.887 85.7917 523.713 85.6064 525.472 85.2583L525.666 86.5249C524.634 86.7376 523.616 86.8907 522.61 86.9841C521.605 87.0744 520.585 87.1195 519.55 87.1195H518.492V79.0559ZM539.559 82.5463H541.464V83.7935H539.559V90.2376H538.036V77.8619H539.559V82.5463ZM530.388 79.0269H536.17V80.2597H531.901V85.9448C532.929 85.9383 533.842 85.9061 534.638 85.8481C535.434 85.7868 536.238 85.6837 537.05 85.5387L537.224 86.8198C536.35 86.9712 535.488 87.0744 534.638 87.1291C533.79 87.1807 532.792 87.2065 531.645 87.2065H531.403H530.388V79.0269ZM544.373 86.0946H542.826L542.667 79.0994H544.528L544.373 86.0946ZM542.541 88.0477C542.538 87.8575 542.583 87.6819 542.676 87.5207C542.773 87.3596 542.902 87.2323 543.063 87.1388C543.227 87.0453 543.406 86.9986 543.6 86.9986C543.787 86.9986 543.961 87.0453 544.122 87.1388C544.286 87.2323 544.417 87.3596 544.513 87.5207C544.61 87.6819 544.658 87.8575 544.658 88.0477C544.658 88.2378 544.61 88.4151 544.513 88.5794C544.417 88.7406 544.286 88.8695 544.122 88.9662C543.961 89.0596 543.787 89.1064 543.6 89.1064C543.406 89.1064 543.227 89.0596 543.063 88.9662C542.902 88.8695 542.773 88.7406 542.676 88.5794C542.583 88.4151 542.538 88.2378 542.541 88.0477Z" fill="#CAD0D7"/>
</svg>

        )}

        {!loading &&
          !error &&
          meetings.map((m, idx) => (
            <Box
            key={m?.id ?? idx}
            onClick={() => navigate(`/gather/detail/${encodeURIComponent(String(m?.id ?? idx))}`)}
            role="link"
            tabIndex={0}
            onKeyDown={(e) => e.key === "Enter" && navigate(`/gather/detail/${encodeURIComponent(String(m?.id ?? idx))}`)}
          >
              <Meet>{m.title}</Meet>
              <InfoWrapper>
                <Info>
                  <Icon>
                  <svg xmlns="http://www.w3.org/2000/svg" width="25" height="24" viewBox="0 0 25 24" fill="none">
  <path d="M17.0689 3.11377C16.5802 3.11377 16.1803 3.51366 16.1803 4.00241V4.89106H9.07115V4.00241C9.07115 3.51366 8.67126 3.11377 8.1825 3.11377C7.69375 3.11377 7.29386 3.51366 7.29386 4.00241V4.89106H6.40522C5.41882 4.89106 4.63682 5.69084 4.63682 6.66834L4.62793 19.1094C4.62793 20.0869 5.41882 20.8866 6.40522 20.8866H18.8462C19.8237 20.8866 20.6235 20.0869 20.6235 19.1094V6.66834C20.6235 5.69084 19.8237 4.89106 18.8462 4.89106H17.9576V4.00241C17.9576 3.51366 17.5577 3.11377 17.0689 3.11377ZM18.8462 19.1094H6.40522V10.2229H18.8462V19.1094ZM11.7371 12.8888C11.7371 12.4001 12.137 12.0002 12.6257 12.0002C13.1145 12.0002 13.5144 12.4001 13.5144 12.8888C13.5144 13.3776 13.1145 13.7775 12.6257 13.7775C12.137 13.7775 11.7371 13.3776 11.7371 12.8888ZM8.1825 12.8888C8.1825 12.4001 8.58239 12.0002 9.07115 12.0002C9.5599 12.0002 9.95979 12.4001 9.95979 12.8888C9.95979 13.3776 9.5599 13.7775 9.07115 13.7775C8.58239 13.7775 8.1825 13.3776 8.1825 12.8888ZM15.2917 12.8888C15.2917 12.4001 15.6915 12.0002 16.1803 12.0002C16.6691 12.0002 17.0689 12.4001 17.0689 12.8888C17.0689 13.3776 16.6691 13.7775 16.1803 13.7775C15.6915 13.7775 15.2917 13.3776 15.2917 12.8888ZM11.7371 16.4434C11.7371 15.9547 12.137 15.5548 12.6257 15.5548C13.1145 15.5548 13.5144 15.9547 13.5144 16.4434C13.5144 16.9322 13.1145 17.3321 12.6257 17.3321C12.137 17.3321 11.7371 16.9322 11.7371 16.4434ZM8.1825 16.4434C8.1825 15.9547 8.58239 15.5548 9.07115 15.5548C9.5599 15.5548 9.95979 15.9547 9.95979 16.4434C9.95979 16.9322 9.5599 17.3321 9.07115 17.3321C8.58239 17.3321 8.1825 16.9322 8.1825 16.4434ZM15.2917 16.4434C15.2917 15.9547 15.6915 15.5548 16.1803 15.5548C16.6691 15.5548 17.0689 15.9547 17.0689 16.4434C17.0689 16.9322 16.6691 17.3321 16.1803 17.3321C15.6915 17.3321 15.2917 16.9322 15.2917 16.4434Z" fill="#FF517E"/>
</svg>
                  </Icon>
                  <When>{m.time}</When>
                </Info>

                <Info>
                  <Icon>
                  <svg xmlns="http://www.w3.org/2000/svg" width="25" height="24" viewBox="0 0 25 24" fill="none">
  <path d="M12.2792 16.6092C9.77277 16.4909 7.77869 14.4248 7.77869 11.8857C7.77869 9.27551 9.89888 7.15426 12.5078 7.15426C15.0457 7.15426 17.1107 9.14933 17.2289 11.657L15.5738 11.1602C15.2506 9.76442 13.9974 8.73139 12.5078 8.73139C10.7659 8.73139 9.35504 10.1429 9.35504 11.8857C9.35504 13.376 10.3876 14.6299 11.7826 14.9532L12.2792 16.6092ZM20.3895 11.8857C20.3895 12.1222 20.3816 12.3588 20.358 12.5954L18.8053 12.1301C18.8132 12.0513 18.8132 11.9645 18.8132 11.8857C18.8132 8.4002 15.9915 5.57713 12.5078 5.57713C9.02401 5.57713 6.20233 8.4002 6.20233 11.8857C6.20233 15.3711 9.02401 18.1942 12.5078 18.1942C12.5866 18.1942 12.6733 18.1942 12.7521 18.1863L13.2171 19.7398C12.9807 19.7634 12.7442 19.7713 12.5078 19.7713C8.15701 19.7713 4.62598 16.2385 4.62598 11.8857C4.62598 7.53277 8.15701 4 12.5078 4C16.8585 4 20.3895 7.53277 20.3895 11.8857ZM17.4181 15.2449L19.2073 14.6456C19.5698 14.5274 19.5619 14.0069 19.1994 13.8965L13.2092 12.0986C12.9097 12.0118 12.626 12.2878 12.7206 12.5875L14.5176 18.5806C14.6279 18.9512 15.1481 18.9591 15.2664 18.5885L15.8654 16.7984L18.9472 19.8817C19.1048 20.0394 19.3491 20.0394 19.5068 19.8817L20.5078 18.8802C20.6654 18.7225 20.6654 18.4781 20.5078 18.3204L17.4181 15.2449Z" fill="#FF517E"/>
</svg>

                  </Icon>
                  <When>{m.place}</When>
                </Info>

                <Info>
                  <Icon>
                  <svg xmlns="http://www.w3.org/2000/svg" width="25" height="24" viewBox="0 0 25 24" fill="none">
  <path opacity="0.9" d="M16.0805 11.1429C17.5142 11.1429 18.6628 9.99429 18.6628 8.57143C18.6628 7.14857 17.5142 6 16.0805 6C14.6469 6 13.4896 7.14857 13.4896 8.57143C13.4896 9.99429 14.6469 11.1429 16.0805 11.1429ZM9.17143 11.1429C10.6051 11.1429 11.7537 9.99429 11.7537 8.57143C11.7537 7.14857 10.6051 6 9.17143 6C7.73779 6 6.58052 7.14857 6.58052 8.57143C6.58052 9.99429 7.73779 11.1429 9.17143 11.1429ZM9.17143 12.8571C7.15916 12.8571 3.12598 13.86 3.12598 15.8571V17.1429C3.12598 17.6143 3.51461 18 3.98961 18H14.3532C14.8282 18 15.2169 17.6143 15.2169 17.1429V15.8571C15.2169 13.86 11.1837 12.8571 9.17143 12.8571ZM16.0805 12.8571C15.8301 12.8571 15.5451 12.8743 15.2428 12.9C15.2601 12.9086 15.2687 12.9257 15.2773 12.9343C16.2619 13.6457 16.9442 14.5971 16.9442 15.8571V17.1429C16.9442 17.4429 16.8837 17.7343 16.7887 18H21.2623C21.7373 18 22.126 17.6143 22.126 17.1429V15.8571C22.126 13.86 18.0928 12.8571 16.0805 12.8571Z" fill="#FF517E"/>
</svg>
                  </Icon>
                  <When>{m.count}</When>
                </Info>
              </InfoWrapper>
            </Box>
          ))}
      </ScrollArea>
    </div>
  );
}
